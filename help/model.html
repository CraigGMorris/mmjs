<!DOCTYPE html>
<html lang="en">
	<head>
		<meta name="viewport" content="initial-scale=1.0">
		<link rel="stylesheet" href="help.css" type="text/css">
		<script type="text/javascript" src="help.js"></script>
		<script type="text/javascript">
			window.onload = () => {
				rtSetupHeading('Model',{
					overview: 'Overview',
					namespace: 'Name Space',
					ioexpr: 'Input and Output Expressions',
					info: 'Information View',
					indextool: 'Index Tool',
					parameters: 'Formula Parameters',
				});
			};			
		</script>	
		<title>Model</title>
	</head>
	<body>
		<div id="page">
			<div id="heading"></div>
			<div id="overview" class="section">
				<h3>Overview</h3>
				<p>
					A model is simply a container for other <a href="tools.html">calculation tools</a>.
					These are displayed as icons on the model's <a href="diagram.html">diagram view</a>.
				</p>
				<p>
					Every Math Minion session has one root model, but it can contain other models,
					which in turn can also contain models.
				</p>
					Tapping on the icon for a model in the <a href="diagram.html">diagram</a> will
					switch the diagram and <a href="infoview.html">information view</a> to that
					of the child model.
				<p>
				</p>
				<p>							
					You can return to the parent model by tapping the back button at the upper left
					of the diagram or model <a href="infoview.html">information view</a>.
				</p>
			</div>
			<div id="namespace" class="section">
				<h3>Name Space</h3>
				<p>
					The name space of the model is completely independent of that of the parent
					model or any other model.  This means that models can contain tools with the same
					names as tools in other models.
				</p>
			</div>
			<div id="ioexpr" class="section">
				<h3>Input and Output Expressions</h3>
				<p>
					Models can only communicate with other models by means of
					<a href="expression.html">expressions</a> that have been designated as input and/or
					output.  This is done by means of the
					<a href="expression.html#incheck">check boxes</a> on the
					<a href="expression.html">expression</a> information view.
				</p>
				<p>
					An input <a href="expression.html">expression</a> operates in the namespace of
					the parent model, but its result is available in its containing model.  This
					means the formula entered into an input expression can only reference tools in
					the parent, but its result can be used by other tools in its own model.
				</p>
				<p>
					The result of an output <a href="expression.html">expression</a> can be accessed
					by formulas in the parent model by appending a dot and its name to its model name.
					Thus if an output expression called "result" was in a model called "calc", then a
					formula in a tool in the model containing "calc" could reference "result" as:
				</p>
				<p class="formula">calc.result</p>
			</div>
			<div id="info" class="section">
				<h3>Information View</h3>
				<p>
					The information view for the circle model from the Getting Started session looks
					like this:
				</p>
				<img src="model.png" alt="Model Information View">
				<p>
					When first created, the information view for a model will only contain the name
					and notes fields, but as you add tools to the model up to three sections will appear
					as in this example. The tools the model contains are listed in the appropriate sections:
				</p>
				<ul>
					<li>
						<b>Inputs</b> - contains any <a href="expression.html">expressions</a> that have
						their <a href="expression.html#incheck">input boxes</a> checked.
					</li>
					<li>
						<b>Outputs</b> - contains any <a href="expression.html">expressions</a> that have
						their <a href="expression.html#outcheck">output boxes</a> checked.
					</li>
					<li>
						<b>Internal Tools</b> - all other tools
					</li>
				</ul>
				<p>
					Input and output sections will show the name, formula and a result summary for
					each expression, but the internal tools section only shows the tool type and
					tool name.
				</p>
				<p>
					In all cases tapping on a tool row, other than inside an input's
					<a href="formulaeditor.html#fields">formula field</a>, will show that tool's
					<a href="infoview.html">information view</a> and select its icon on the
					<a href="diagram.html">diagram.</a>  If the selected tool is a model the
					diagram will switch to showing that model. You can use the back button at
					the top left to return to the original model information view.
				</p>
				<p>
					The order that tools are displayed within each section is determined
					by their horizontal position on the model diagram, with ties being determined
					by the vertical position.
				</p>
			</div>
			<div id="indextool" class="section">
				<h3>Index Tool</h3>
				<p>
					It is possible to set a specific tool in the model to always be displayed in
					the information view when the model is first opened. Enter the name of this tool
					in the <b>Index Tool</b> input field at the bottom of the information view.
				</p>
				<p>
					In the model above, the Htmlpage <b>Circle_Overview</b> will appear whenever the
					<b>circle</b> model is entered. The back button at the upper left of the information
					view can be used to return to the model's informaton view.
				</p>
				<p>
					Empty the field 1f you wish to return to having only the model information
					displayed when the model is first opened, 
				</p>
			</div>
			<div id="parameters" class="section">
				<h3>Formula Parameters</h3>		
				<p class="reminder">Parameters can be accessed with the form a.b where a is the model and b is the parameter</p>
				<p>
					As described above, all expressions contained in the model that have their output switch on are available as formula parameters.
				</p>
				<p>
					If the value of the expression is a reference to another tool, then that tool's parameters will be available by extending the dot notation.  For instance, let's say a model named "m" has an output expression named "date" which has a formula:
				</p>
				<p class="formula">table</p>
				<p>
					where "table is the name of a <a href="datatable.html">data table</a>, which has a column named "Date".  Then
				</p>
				<p class="formula">
					m.table.date
				</p>
				<p>
					would return an array with that column's contents.
				</p>						
			</div>
		</div>
	</body>
</html>
