{
	"Program": "Rtm",
	"Version": 3,
	"DetailWidth": 320,
	"DeviceWidth": 1024,
	"UserUnitSets": {},
	"UserUnits": [],
	"CaseName": "MM_News_new",
	"DefaultUnitSet": "SI",
	"SelectedObject": "The_News",
	"ModelPath": "/.root.News.News_20211207",
	"RootModel": {
		"name": "root",
		"Notes": "",
		"DiagramX": 0,
		"DiagramY": 0,
		"HideInfo": "n",
		"DiagramNotes": "n",
		"Type": "Model",
		"diagramScale": 1,
		"Objects": [
			{
				"name": "News",
				"Notes": "",
				"DiagramX": 185,
				"DiagramY": -80,
				"HideInfo": "n",
				"DiagramNotes": "n",
				"Type": "Model",
				"diagramScale": 1,
				"Objects": [
					{
						"name": "News_20211010",
						"Notes": "",
						"DiagramX": 85,
						"DiagramY": -90,
						"HideInfo": "n",
						"DiagramNotes": "n",
						"Type": "Model",
						"diagramScale": 1,
						"indexTool": "the_news",
						"Objects": [
							{
								"name": "Hours",
								"Notes": "This data table tool is a simple fictitious time sheet copied from the Getting Started session.  It has four columns, consisting of Date, Client, Project and hours.",
								"DiagramX": 220,
								"DiagramY": 275,
								"HideInfo": "y",
								"DiagramNotes": "y",
								"Type": "Data Table",
								"Columns": [
									{
										"name": "Date",
										"displayUnit": "date",
										"nValues": [
											1342396800,
											1342396800,
											1342483200,
											1342569600,
											1342569600,
											1342656000,
											1342656000,
											1342742400,
											1342742400,
											1342828800,
											1342828800,
											1342915200,
											1343001600,
											1343174400,
											1343174400,
											1343260800,
											1343347200,
											1343433600,
											1343433600,
											1343520000,
											1343606400,
											1343692800,
											1343779200,
											1343779200,
											1343865600,
											1343865600,
											1343952000,
											1344038400,
											1344038400,
											1344124800,
											1344124800,
											1344297600,
											1344384000,
											1344470400,
											1344556800,
											1344556800,
											1344643200,
											1344729600,
											1344729600,
											1344816000,
											1344902400,
											1344902400,
											1344988800,
											1344988800
										],
										"unitDimensions": "0 0 1 0 0 0 0",
										"defaultValue": "{mktime {int {date {now}}}}"
									},
									{
										"name": "Client",
										"displayUnit": "string",
										"sValues": [
											"HAL",
											"Fred",
											"Acme",
											"Acme",
											"Acme",
											"HAL",
											"Acme",
											"HAL",
											"Fred",
											"Fred",
											"Acme",
											"Acme",
											"Acme",
											"Fred",
											"HAL",
											"HAL",
											"HAL",
											"HAL",
											"Acme",
											"Acme",
											"Pear",
											"Pear",
											"Pear",
											"HAL",
											"Pear",
											"Fred",
											"Pear",
											"Pear",
											"Acme",
											"Pear",
											"HAL",
											"HAL",
											"HAL",
											"HAL",
											"Fred",
											"HAL",
											"HAL",
											"HAL",
											"Fred",
											"Fred",
											"Pear",
											"Fred",
											"HAL",
											"Acme"
										],
										"defaultValue": "$[$.nrows,2]"
									},
									{
										"name": "Project",
										"displayUnit": "string",
										"sValues": [
											"DeepThought",
											"Accounting",
											"Coyote",
											"Coyote",
											"Coyote",
											"DeepThought",
											"RR",
											"DeepThought",
											"Accounting",
											"Accounting",
											"RR",
											"RR",
											"RR",
											"Accounting",
											"DeepThought",
											"DeepThought",
											"DeepThought",
											"DeepThought",
											"RR",
											"Coyote",
											"iWant",
											"iWant",
											"iWant",
											"DeepThought",
											"iWant",
											"Accounting",
											"iWant",
											"iWish",
											"RR",
											"iWish",
											"Clarke",
											"Clarke",
											"Clarke",
											"Clarke",
											"Accounting",
											"Clarke",
											"Clarke",
											"Clarke",
											"Report",
											"Report",
											"iWish",
											"Report",
											"Clarke",
											"Coyote"
										],
										"defaultValue": "$[$.nrows,3]"
									},
									{
										"name": "Hours",
										"displayUnit": "h",
										"format": "10.2f",
										"nValues": [
											7200,
											10800,
											18000,
											21600,
											7200,
											10800,
											7200,
											10800,
											7200,
											14400,
											21600,
											28800,
											32400,
											18000,
											10800,
											25200,
											28800,
											7200,
											14400,
											14400,
											21600,
											32400,
											25200,
											7200,
											25200,
											7200,
											25200,
											21600,
											7200,
											18000,
											7200,
											28800,
											32400,
											25200,
											7200,
											18000,
											28800,
											18000,
											10800,
											28800,
											18000,
											7200,
											25200,
											7200
										],
										"unitDimensions": "0 0 1 0 0 0 0",
										"defaultValue": "0 h"
									}
								]
							},
							{
								"name": "ProjectHours",
								"Notes": "",
								"DiagramX": 305,
								"DiagramY": 270,
								"HideInfo": "y",
								"DiagramNotes": "n",
								"Type": "Expression",
								"Formula": {
									"Formula": "{groupsum\n\thours[0,{cc \"Project\", \"hours\"}],\n\t\"Project\"\n}"
								}
							},
							{
								"name": "ClientHours",
								"Notes": "",
								"DiagramX": 305,
								"DiagramY": 245,
								"HideInfo": "y",
								"DiagramNotes": "n",
								"Type": "Expression",
								"Formula": {
									"Formula": "{groupsum\n\thours[0,{cc \"client\", \"hours\"}],\n\t\"Client\"\n}"
								}
							},
							{
								"name": "hoursPage",
								"Notes": "Hours datatable css formatted (using w3schools suggestions).",
								"DiagramX": 305,
								"DiagramY": 295,
								"HideInfo": "y",
								"DiagramNotes": "y",
								"Type": "HTML Form",
								"Formula": {
									"Formula": "'\n<html>\n\t<head>\n\t\t<style>\n\t\t\tbody {background-color: #EEFFEE; color: black;}\n\t\t\t#records table {\n\t\t\t\twidth: 500px;\n\t\t\t}\n\t\t\t#records table, th, td {\n\t\t\t\tborder: 1px solid black;\n\t\t\t\tborder-collapse: collapse;\n\t\t\t}\n\t\t\t#records td, #records th {\n\t\t\t  border: 1px solid #ddd;\n\t\t\t  padding: 8px;\n\t\t\t}\n\n\t\t\t#records tr:nth-child(even){background-color: #f2f2f2;}\n\t\t\t\n\t\t\t#records tr:hover {background-color: #ddd;}\n\t\t\t\n\t\t\t#records th {\n\t\t\t  padding-top: 12px;\n\t\t\t  padding-bottom: 12px;\n\t\t\t  text-align: left;\n\t\t\t  background-color: #04AA6D;\n\t\t\t  color: white;\n\t\t\t}\n\t\t\t#records th.col1, #records td.col1 {\n\t\t\t  width: 120px;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<p>\n\t\t\tHours datatable css formatted (using w3schools suggestions).\n\t\t</p>\n\t\t<div id=\"records\">\n\t\t\t<mm>hours</mm>\n\t\t</div>\n\t</body>\n</html>"
								},
								"f0": "hours"
							},
							{
								"name": "RenderedHTML",
								"Notes": "",
								"DiagramX": 305,
								"DiagramY": 220,
								"HideInfo": "y",
								"DiagramNotes": "n",
								"Type": "Expression",
								"Formula": {
									"Formula": "the_news.html"
								}
							},
							{
								"name": "The_News",
								"Notes": "HTML page fix.\nHTML page printing or saving to a PDF",
								"DiagramX": 220,
								"DiagramY": 220,
								"HideInfo": "y",
								"DiagramNotes": "y",
								"Type": "HTML Form",
								"Formula": {
									"Formula": "'\n<html>\n\t<head>\n\t\t<link rel=\"stylesheet\" href=\"./help/help.css\" type=\"text/css\">\n\t\t<style>\n\t\t\t#header {\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-template-columns: 1fr 65px;\n\t\t\t\tgrid-gap: 10px;\n\t\t\t\tborder-bottom: 1px solid black;\n\t\t\t\tmargin-bottom: 10px;\n\t\t\t}\n\t\t\t#header img {\n\t\t\t\talign-self: center;\n\t\t\t}\n\t\t\t.link {color: blue;}\n\t\t\t\n\t\t\t\t\t\t#records table {\n\t\t\t\twidth: 350px;\n\t\t\t}\n\t\t\t\n\t\t\t.withstyle table, th, td {\n\t\t\t\tborder: 0px solid black;\n\t\t\t\tborder-collapse: collapse;\n\t\t\t}\n\t\t\t.withstyle td, .withstyle th {\n\t\t\t  border: 1px solid #ddd;\n\t\t\t  padding: 8px;\n\t\t\t}\n\n\t\t\t.withstyle tr:nth-child(even){background-color: #f2f2f2;}\n\t\t\t\n\t\t\t.withstyle tr:hover {background-color: #ddd;}\n\t\t\t\n\t\t\t.withstyle th {\n\t\t\t  padding-top: 12px;\n\t\t\t  padding-bottom: 12px;\n\t\t\t  text-align: left;\n\t\t\t  background-color: #04AA6D;\n\t\t\t  color: white;\n\t\t\t}\n\t\t\t#projhours th.col1, #projhours td.col1 {\n\t\t\t  width: 150px;\n\t\t\t}\n\t\t\t\n\t\t\t#projhours .col0 {\n\t\t\t\tvisibility: hidden;\n\t\t\t\tborder: 0px;\n\t\t\t\twidth: 0px;\n\t\t\t\tpadding: 0px;\n\t\t\t}\n\t\t\t\n\t\t\t.link {\n\t\t\t\tcolor: blue;\n\t\t\t\tcursor: pointer;\n\t\t\t}\n\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"page\">\n\t\t<div id=\"header\">\n\t\t<h3>Welcome to Math Minion News</h3>\n\t\t<img src=\"./help/minion64.png\"/>\n\t\t</div>\n\t\t<div class=\"section\">\n\t\t\t<p><b>2021-10-10</b></p>\n\t\t\t<h3>Yet Another News Iteration</h3>\n\t\t\t<p>\n\t\t\t\tThis news session bring yet another experiment in organization. The news from each date is now contained in its own model, which allows the HTML page to be bundled with other tools it may use for examples. The news from all dates will be collected in a \"News\" model, just to make the back titles obvious that the older news is in the parent model.\n\t\t\t</p>\n\t\t</div>\n\t\t<div class=\"section\">\n\t\t\t<h3>HTML Page Fixes and Upgrades</h3>\n\t\t\t<p>\n\t\t\t\tIncluding table values in the HTML page tool was not working properly. It has been fixed and I added some small enhancements such as CSS classes for the columns (col1, col2 etc) to make styling easier.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tWhile few people have probably tried to use this feature or the HTML page tool in general, I think the HTML page tool is a great way to present information or even prepare reports for printing or saving as a PDF files. Granted using it does require some basic knowledge of HTML and preferably CSS, but these have lots of great resources on the web, such as:\n\t\t\t</p>\t\n\t\t\t<ul>\n\t\t\t\t<li><a href=\"https://developer.mozilla.org/en-US/docs/Web/Guide\" target=\"_blank\">MDN Developer Guide</a> from Mozilla.</li>\n\t\t\t\t<li><a href=\"https://www.w3schools.com\" target=\"_blank\">W3Schools</a></li>\n\t\t\t</ul>\n\t\t\t<p>\n\t\t\t\tIllustrating the fix gives me an excuse to flog the HTML page a bit more. 🙂\n\t\t\t</p>\n\t\t\t<p>\t\n\t\t\t\tOne of the features of the  HTML page tool is the ability to embed calculated values using the <b>&lt;mm&gt;</b> custom tag. Any Math Minion formula can be included inside the tag and the whole tag will be replaced in the final HTML with the result of the formula.  Thus:\n\t\t\t</p>\n\t\t\t<p class=\"formula\">\n\t\t\t\t&lt;mm&gt;{pi}&lt;/mm&gt;\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\twould be replaced with <mm>{pi}</mm>. If you look at the source formula for this page, you will see that is exactly what has been done here. Also the\n\t\t\t\t<b><span class=\"link\" onClick=\"mmpost([], {mm_push: 'renderedHtml'})\">renderedHTML</span></b> expression will show the HTML used after the substitutions have been made (click in its cell for the full text).\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tIf the formula returns a value which is not a scalar, then the tag is replaced with an HTML table. For instance:\n\t\t\t</p>\n\t\t\t<p class=\"formula\">\n\t\t\t\t&lt;mm&gt;{array 3, 2, 1:6} * 1 kg&lt;/mm&gt;\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\twould result in\n\t\t\t</p>\n\t\t\t<p><mm>{array 3, 2, 1:6} * 1 kg</mm></p>\n\t\t\t<p>\n\t\t\t\tThis should have also worked with table values, but didn't and is what required the fix. Referencing a table value like:\n\t\t\t</p>\n\t\t\t<p class=\"formula\">\n\t\t\t\t&lt;mm&gt;clientHours&lt;/mm&gt;\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tnow results in:\n\t\t\t<p>\n\t\t\t<div>\n\t\t\t\t<mm>clientHours</mm>\n\t\t\t</div>\n\t\t\t<p>\n\t\t\t\tThis is functional, but not very attractive.  However it can be restyled with CSS to look however you want.  Here is another table, but this time with some styling, largely copied from a W3Schools example.  The styling also hides the row numbers\n\t\t\t</p>\n\t\t\t<div id=\"projhours\" class=\"withstyle\">\n\t\t\t\t<mm>projectHours</mm>\n\t\t\t</div>\n\t\t\t<p>\n\t\t\t\tA non-table value can be similarly styled.  Using the formula\n\t\t\t</p>\n\t\t\t<p class=\"formula\">\n\t\t\t\t&lt;mm&gt;{array 10, 4, 1:40} * 1 min&lt;/mm&gt;\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tand with the row numbers are left retained results in:\n\t\t\t</p>\n\t\t\t<div class=\"withstyle\">\n\t\t\t\t<mm>{array 10, 4, 1:40} * 1 min</mm>\n\t\t\t</div>\n\t\t\t<p>\n\t\t\t\tIf you are having problems getting your HTML pages to work the way you want, just <a href=\"http://www.redtree.com/contact.html\" target=\"_blank\">let me know</a> and I will be happy to try and help. The only caveat is that I am sometimes off grid and if so my reply might be delayed.\n\t\t\t</p>\n\t\t</div>\n\t\t<div class=\"section\">\n\t\t\t<h3>Printing and PDFs</h3>\n\t\t\t<p>\n\t\t\t\tOnce you have a nice report in an HTML page tool, you may want to print it or save it as a PDF file. There isn't a specific Math Minion function for doing this, but at least on a Mac or PC, all the major browsers make it quite simple. (I don't actually have a Windows machine, but a quick trial on a borrowed Windows session with Edge worked).\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tFirst click on the displayed content of your page, avoiding any links, and select everything in it with Cmd A on Mac or Ctrl A on Windows. On a Mac, just select <b>Print</b> from the <b>File</b> menu and you should get a print preview showing just your formatted selected content, without the diagram.  On Windows, right clicking on the selected content and choosing <b>Print</b> from the resulting popup menu should achieve the same.\n\t\t\t</p>\n\t\t\t<p>\t\n\t\t\t\tYou can now print to a printer or save the output to a PDF file in the normal manner (the dialogs differ slightly depending on the browser and OS). On a Mac you can choose the option to include background graphics if you wish to maintain background colours (not sure about Windows).\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tWhile it is possible to print or even save to a PDF on iOS and iPad, I don't know of any way to print anything other than what is showing on the screen and most reports would not fit on a acreen without scrolling. I have no idea if this can be done on Android devices.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<b>\n\t\t\t</p>\n\t\t</div>\n\t\t<div class=\"section\">\n\t\t\t<h3>Feedback</h3>\n\t\t\t<p>\n\t\t\t\tAs always, any and all feedback or questions are encouraged and appreciated.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<a href=\"http://www.redtree.com/contact.html\" target=\"_blank\">Craig</a>\n\t\t\t</p>\n\t\t</div>\n\t</body>\n</html>"
								},
								"f0": "{pi}",
								"f1": "{array 3, 2, 1:6} * 1 kg",
								"f2": "clientHours",
								"f3": "projectHours",
								"f4": "{array 10, 4, 1:40} * 1 min"
							}
						]
					},
					{
						"name": "News_20210910",
						"Notes": "",
						"DiagramX": 85,
						"DiagramY": -65,
						"HideInfo": "n",
						"DiagramNotes": "n",
						"Type": "Model",
						"diagramScale": 1,
						"indexTool": "The_News",
						"Objects": [
							{
								"name": "Select_Overview",
								"DiagramX": 170,
								"DiagramY": -90,
								"HideInfo": "n",
								"DiagramNotes": "n",
								"Type": "Model",
								"diagramScale": 1,
								"indexTool": "Select_Function",
								"Objects": [
									{
										"name": "boolSelect",
										"Notes": "Also finds all the rows of Hours that have Coyote in the project column, but uses a boolean selector array instead of a string command.",
										"DiagramX": 115,
										"DiagramY": 85,
										"HideInfo": "y",
										"DiagramNotes": "y",
										"Type": "Expression",
										"Formula": {
											"Formula": "{select hours,\n\t{eq hours.project, \"Coyote\"}\n}"
										}
									},
									{
										"name": "Select",
										"Notes": "Find all the rows of Hours that have Coyote in the project column.",
										"DiagramX": 115,
										"DiagramY": 40,
										"HideInfo": "y",
										"DiagramNotes": "y",
										"Type": "Expression",
										"Formula": {
											"Formula": "{select hours, \"project = Coyote\"}"
										}
									},
									{
										"name": "Select_Function",
										"Notes": "Select Function Overview",
										"DiagramX": 30,
										"DiagramY": 40,
										"HideInfo": "y",
										"DiagramNotes": "y",
										"Type": "HTML Form",
										"Formula": {
											"Formula": "'\n<html>\n\t<head>\n\t\t<link rel=\"stylesheet\" href=\"./help/help.css\" type=\"text/css\">\n\t\t<style>\n\t\t\t#header {\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-template-columns: 1fr 65px;\n\t\t\t\tgrid-gap: 10px;\n\t\t\t\tborder-bottom: 1px solid black;\n\t\t\t\tmargin-bottom: 10px;\n\t\t\t}\n\t\t\t#header img {\n\t\t\t\talign-self: center;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"page\">\n\t\t<div id=\"header\">\n\t\t<h3>Select Function</h3>\n\t\t<img src=\"./help/minion64.png\"/>\n\t\t</div>\n\t\t\t<p>\n\t\t\t\tThe select function can be used to choose certain rows of a table, thus creating a new table value. For instance the <b>Select</b> expression in this model uses the formula:\n\t\t\t</p>\n\t\t\t<p class=\"formula\">\n\t\t\t\t{select hours, \"project = Coyote\"}\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tto find all the rows in the table value <b>hours</b> which have a value of \"Coyote\" in the project column.\n\t\t\t</p>\n\t\t\t<p>\t\n\t\t\t\tThe first parameter of the function is simply the table value, in this case from the expression <b>hours</b>.\n\t\t\t</p>\n\t\t\t<p>\t\n\t\t\t\tThe second parameter is a string of the form\n\t\t\t</p>\n\t\t\t<p class=\"formula\">\t\n\t\t\t\t\"column op value\"\n\t\t\t</p>\n\t\t\t<p>\t\n\t\t\t\twhere <b>column</b> is the name of the table column and the <b>op</b> term is one of (<b>=, <, <=, >, >=</b>). The <b>value</b> term is some value that will be matched against each row of the column using the given operation.  The value isn't a formula, but can have a unit if it is numeric. String comparisons are case insensitive.\n\t\t\t</p>\n\t\t\t<p>\t\n\t\t\t\tIf the selector has more than one row, each result is \"ANDed\" with the previous result, unless the \"column\" term is preceded by a \"|\" character, in which case an OR operation is performed with the previous result. An \"&\" character can optionally be used for AND operations to make the formula more descriptive.\n\t\t\t<p>\n\t\t\t<p>\n\t\t\t\tInstead of a string value, the second parameter of select can be a column array with the same number of rows as the table.  All the rows of this argument which are nonzero will be selected from the source table and included in the result.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tThe expression <b>boolSelect</b> uses the formula:\n\t\t\t</p>\n\t\t\t<p class=\"formula\">\n\t\t\t\t{select hours, {eq hours.project, \"Coyote\"}}\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\twhich will also select all the rows whose project column has a value of \"Coyote\", producing the same result as the <b>Select</b> expression.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tThe select command will also work on matrices of numbers and strings in the same way, with the column name being replaced by the column number.\n\t\t\t</p>\n\t\t\t<p>\t\n\t\t\t\tSee the various other expressions in this model for examples.\n\t\t\t</p>\n\n\t\t</div>\n\t</body>\n</html>"
										}
									},
									{
										"name": "OrSelect",
										"Notes": "Find all rows where project is either Coyote or Accounting",
										"DiagramX": 30,
										"DiagramY": 205,
										"HideInfo": "y",
										"DiagramNotes": "y",
										"Type": "Expression",
										"Formula": {
											"Formula": "{select hours,\n\t{cc\n\t\t\"project = coyote\",\n\t\t\"| project = accounting\"\n\t}\n}"
										}
									},
									{
										"name": "BeforeAugust",
										"Notes": "Another example of using the select, this time to obtain all the records before Aug 1, 2012. Note the use of the date unit.",
										"DiagramX": 115,
										"DiagramY": 150,
										"HideInfo": "y",
										"DiagramNotes": "y",
										"Type": "Expression",
										"Formula": {
											"Formula": "{select hours, \"date < 20120801 date\"}"
										}
									},
									{
										"name": "OrAndSelect",
										"Notes": "Select all rows where the project is either Coyote or Accounting and has a date before August.",
										"DiagramX": 115,
										"DiagramY": 205,
										"HideInfo": "y",
										"DiagramNotes": "y",
										"Type": "Expression",
										"Formula": {
											"Formula": "{select hours,\n\t{cc\n\t\t\"project = coyote\",\n\t\t\"| project = accounting\",\n\t\t\"date < 20120801 date\"\n\t}\n}"
										}
									},
									{
										"name": "NumberbyString",
										"Notes": "Select rows where column 2 is less than 60",
										"DiagramX": 30,
										"DiagramY": 255,
										"HideInfo": "y",
										"DiagramNotes": "y",
										"Type": "Expression",
										"Formula": {
											"Formula": "{select {append 1:50, 51:100},\n\t\"2 <= 60\"\n}"
										}
									},
									{
										"name": "StringByString",
										"Notes": "Select rows where column 1 (the only column) are greater or equal to \"f\".",
										"DiagramX": 110,
										"DiagramY": 255,
										"HideInfo": "y",
										"DiagramNotes": "y",
										"Type": "Expression",
										"Formula": {
											"Formula": "{select\n\t{cc\n\t\t\"a\",\"b\",\"c\",\"d\",\"e\",\n\t\t\"f\",\"g\",\"h\",\"i\",\"j\"\n\t}, \"1 >= f\"\n}"
										}
									},
									{
										"name": "AndSelect",
										"Notes": "Select rows where Fred is the client and the project is Accounting.",
										"DiagramX": 30,
										"DiagramY": 150,
										"HideInfo": "y",
										"DiagramNotes": "y",
										"Type": "Expression",
										"Formula": {
											"Formula": "{select hours,\n\t{cc\n\t\t\"client = Fred\",\n\t\t\"project = accounting\"\n\t}\n}"
										}
									},
									{
										"name": "Hours",
										"Notes": "This data table tool is a simple fictitious time sheet with a month of values.  It has four columns, consisting of Date, Client, Project and hours.",
										"DiagramX": 30,
										"DiagramY": 80,
										"HideInfo": "y",
										"DiagramNotes": "y",
										"Type": "Data Table",
										"Columns": [
											{
												"name": "Date",
												"displayUnit": "date",
												"nValues": [
													1342396800,
													1342396800,
													1342483200,
													1342569600,
													1342569600,
													1342656000,
													1342656000,
													1342742400,
													1342742400,
													1342828800,
													1342828800,
													1342915200,
													1343001600,
													1343174400,
													1343174400,
													1343260800,
													1343347200,
													1343433600,
													1343433600,
													1343520000,
													1343606400,
													1343692800,
													1343779200,
													1343779200,
													1343865600,
													1343865600,
													1343952000,
													1344038400,
													1344038400,
													1344124800,
													1344124800,
													1344297600,
													1344384000,
													1344470400,
													1344556800,
													1344556800,
													1344643200,
													1344729600,
													1344729600,
													1344816000,
													1344902400,
													1344902400,
													1344988800,
													1344988800
												],
												"unitDimensions": "0 0 1 0 0 0 0",
												"defaultValue": "{mktime {int {date {now}}}}"
											},
											{
												"name": "Client",
												"displayUnit": "string",
												"sValues": [
													"HAL",
													"Fred",
													"Acme",
													"Acme",
													"Acme",
													"HAL",
													"Acme",
													"HAL",
													"Fred",
													"Fred",
													"Acme",
													"Acme",
													"Acme",
													"Fred",
													"HAL",
													"HAL",
													"HAL",
													"HAL",
													"Acme",
													"Acme",
													"Pear",
													"Pear",
													"Pear",
													"HAL",
													"Pear",
													"Fred",
													"Pear",
													"Pear",
													"Acme",
													"Pear",
													"HAL",
													"HAL",
													"HAL",
													"HAL",
													"Fred",
													"HAL",
													"HAL",
													"HAL",
													"Fred",
													"Fred",
													"Pear",
													"Fred",
													"HAL",
													"Acme"
												],
												"defaultValue": "$[$.nrows,2]"
											},
											{
												"name": "Project",
												"displayUnit": "string",
												"sValues": [
													"DeepThought",
													"Accounting",
													"Coyote",
													"Coyote",
													"Coyote",
													"DeepThought",
													"RR",
													"DeepThought",
													"Accounting",
													"Accounting",
													"RR",
													"RR",
													"RR",
													"Accounting",
													"DeepThought",
													"DeepThought",
													"DeepThought",
													"DeepThought",
													"RR",
													"Coyote",
													"iWant",
													"iWant",
													"iWant",
													"DeepThought",
													"iWant",
													"Accounting",
													"iWant",
													"iWish",
													"RR",
													"iWish",
													"Clarke",
													"Clarke",
													"Clarke",
													"Clarke",
													"Accounting",
													"Clarke",
													"Clarke",
													"Clarke",
													"Report",
													"Report",
													"iWish",
													"Report",
													"Clarke",
													"Coyote"
												],
												"defaultValue": "$[$.nrows,3]"
											},
											{
												"name": "Hours",
												"displayUnit": "h",
												"nValues": [
													7200,
													10800,
													18000,
													21600,
													7200,
													10800,
													7200,
													10800,
													7200,
													14400,
													21600,
													28800,
													32400,
													18000,
													10800,
													25200,
													28800,
													7200,
													14400,
													14400,
													21600,
													32400,
													25200,
													7200,
													25200,
													7200,
													25200,
													21600,
													7200,
													18000,
													7200,
													28800,
													32400,
													25200,
													7200,
													18000,
													28800,
													18000,
													10800,
													28800,
													18000,
													7200,
													25200,
													7200
												],
												"unitDimensions": "0 0 1 0 0 0 0",
												"defaultValue": "0 h"
											}
										]
									}
								]
							},
							{
								"name": "The_News",
								"Notes": "Select and other recent changes.",
								"DiagramX": 85,
								"DiagramY": -90,
								"HideInfo": "y",
								"DiagramNotes": "y",
								"Type": "HTML Form",
								"Formula": {
									"Formula": "'\n<html>\n\t<head>\n\t\t<link rel=\"stylesheet\" href=\"./help/help.css\" type=\"text/css\">\n\t\t<style>\n\t\t\t#header {\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-template-columns: 1fr 65px;\n\t\t\t\tgrid-gap: 10px;\n\t\t\t\tborder-bottom: 1px solid black;\n\t\t\t\tmargin-bottom: 10px;\n\t\t\t}\n\t\t\t#header img {\n\t\t\t\talign-self: center;\n\t\t\t}\n\t\t\t.link {color: blue;}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"page\">\n\t\t<div id=\"header\">\n\t\t<h3>Welcome to Math Minion News</h3>\n\t\t<img src=\"./help/minion64.png\"/>\n\t\t</div>\n\t\t<div class=\"section\">\n\t\t\t<p><b>2021-09-10</b> - Recent updates</p>\n\t\t\t<p>\n\t\t\t\tA number of changes that have been added recently so it seems like a good time for an update.\n\t\t\t</p>\n\t\t\t<h3>New Select Function Features</h3>\n\t\t\t<p>\n\t\t\t\tA simpler way to use the <b>select</b> function has been added. The function still has two parameters:\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t{select myValue, selector}\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tbut now a the selector can be a string value of the form \n\t\t\t</p>\n\t\t\t<p class=\"formula\">\n\t\t\t\t\"column op value\"\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tFor example:\n\t\t\t</p>\n\t\t\t<p class=\"formula\">\n\t\t\t\t{select hours, \"project = Coyote\"}\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\twould return a table value with all the rows that had \"Coyote\" in the project column.\n\t\t\t</p>\n\t\t\t<p>\t\n\t\t\t\tThe previous method of providing a number array of boolean values still works as before.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tSee the <span class=\"link\" onClick=\"mmpost([],{mm_push: 'Select_Overview'});\">Select_Overview</span> in this session for details, but don't forget to read about the rest of the changes below.\n\t\t\t</p>\n\t\t\t<h3>Table Value Enhancements</h3>\n\t\t\t<p>\n\t\t\t\tWhen using arithmetic operators between a table and\n    \t\ta number value, the number value can now have more than one column, unit dimensions permitting.\n\t\t\t</p>\n\t\t\t<p>\n    \t\tThe <b>sumrows</b> function can now take a column name as a second argument and\n    \t\twill return a table value. If the value being summed is a table value, then any string columns it has will be copied into the result before the sum column.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tFixed problem with adding string columns to datatable tool\n\t\t\t\tAlso fixed problem pasting CSV files to\n\t\t\t\tcreate datatables.\n\t\t\t</p>\n\t\t\t<h3>Miscellaneous</h3>\n\t\t\t<p>\n\t\t\t\tAdded a list of functions to formula help, but you still\n\t\t\t\tneed to go to function browser for descriptions.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tFixes to multilevel imported models\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tYou can now reference y and dy values that are tables as\n\t\t\t\tode.y.columnName rather than having to use\n\t\t\t\tode.y[0,\"columnName\"]\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tNo longer allow illegal tool names, which could create difficult to remove tools.\n\t\t\t</p>\n\t\t\t<h3>Coolprop Version</h3>\n\t\t\t<p>\n\t\t\t\tMolar density can now be used as the first intensive\n\t\t\t\tproperty for flashes that only have a single component.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tA steam boiler dynamics example has been added that demonstates this, among other things. If you are running the CoolMM version now, you can import it by <span class=\"link\" onClick=\"mmpost({}, {mm_loadurl: '../examples/coolmm/boiler.txt'});\">clicking here</span>.\n\t\t\t</p>\n\t\t\t<h3>Update Getting Started</h3>\n\t\t\t<p>\n\t\t\t\tThe Getting Started session is an important part of the Math Minion documentation and it has been updated to reflect some of the changes above.  You should get a new version by\n\t\t\t\t<span class=\"link\" onClick=\"mmpost([],{mm_loadurl: '../help/Getting Started.txt'})\">clicking here</span>, but  <b>NOTE</b> this will replace your existing one.\n\t\t\t</p>\n\t\t\t<h3>Feedback</h3>\n\t\t\t<p>\n\t\t\t\tAs always, any and all feedback is encouraged and appreciated.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<a href=\"http://www.redtree.com/contact.html\" target=\"_blank\">Craig</a>\n\t\t\t</p>\n\t\t</div>\n\t</body>\n</html>"
								}
							}
						]
					},
					{
						"name": "News_20210703",
						"Notes": "",
						"DiagramX": 85,
						"DiagramY": -40,
						"HideInfo": "n",
						"DiagramNotes": "n",
						"Type": "Model",
						"diagramScale": 1,
						"indexTool": "the_news",
						"Objects": [
							{
								"name": "The_News",
								"Notes": "CoolMM - a version of Math Minion with a CoolProp flash tool.",
								"DiagramX": 85,
								"DiagramY": -85,
								"HideInfo": "y",
								"DiagramNotes": "y",
								"Type": "HTML Form",
								"Formula": {
									"Formula": "'\n<html>\n\t<head>\n\t\t<link rel=\"stylesheet\" href=\"./help/help.css\" type=\"text/css\">\n\t\t<style>\n\t\t\t#header {\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-template-columns: 1fr 65px;\n\t\t\t\tgrid-gap: 10px;\n\t\t\t\tborder-bottom: 1px solid black;\n\t\t\t\tmargin-bottom: 10px;\n\t\t\t}\n\t\t\t#header img {\n\t\t\t\talign-self: center;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"page\">\n\t\t<div id=\"header\">\n\t\t<h3>Welcome to Math Minion News</h3>\n\t\t<img src=\"./help/minion64.png\"/>\n\t\t</div>\n\t\t<div class=\"section\">\n\t\t\t<p><b>2021-07-03</b></p>\n\t\t\t<h3>CoolMM</h3>\n\t\t\t<p>\n\t\t\t\tHaving once had some background in chemical engineering software, I have long been intrigued with the idea of adding a fluid flash tool to Math Minion.  Thus when I discovered that the open source <a href=\"http://coolprop.org\" target=\"_blank\">CoolProp</a> property package had a Javascript wrapper based on web assembly, I couldn't resist doing just that.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tThe result is a <b>CoolMM</b> version that can be run at at:\n\t\t\t</p>\n\t\t\t<p class=\"formula\">\n\t\t\t\thttp://coolmm.mathminion.org\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tHowever please be patient for CoolProp is written in C++ and is compiled into web assembly. This allows it to be incorporated in Math Minion and run directly in the browser, but it also means there is a lot of code to download. Otherwise this version is identical to the normal version of Math Minion.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tCoolProp aims to emulate RefProp from NIST and as might be expected from the name, seems to do best with refrigeration and steam problems, but does have a range of other mainly light components. I did experience some strange flash behaviour and failures in the an example with a multicomponent natural gas like compositions.  I discuss some of it in the example.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<a href=\"http://www.redtree.com/contact.html\" target=\"_blank\">Craig</a>\n\t\t\t</p>\n\t\t</div>\n\t</body>\n</html>"
								}
							}
						]
					},
					{
						"name": "News_20210621",
						"Notes": "",
						"DiagramX": 85,
						"DiagramY": -15,
						"HideInfo": "n",
						"DiagramNotes": "n",
						"Type": "Model",
						"diagramScale": 1,
						"indexTool": "the_news",
						"Objects": [
							{
								"name": "The_News",
								"Notes": "New News",
								"DiagramX": 80,
								"DiagramY": -90,
								"HideInfo": "y",
								"DiagramNotes": "y",
								"Type": "HTML Form",
								"Formula": {
									"Formula": "'\n<html>\n\t<head>\n\t\t<link rel=\"stylesheet\" href=\"./help/help.css\" type=\"text/css\">\n\t\t<style>\n\t\t\t#header {\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-template-columns: 1fr 65px;\n\t\t\t\tgrid-gap: 10px;\n\t\t\t\tborder-bottom: 1px solid black;\n\t\t\t\tmargin-bottom: 10px;\n\t\t\t}\n\t\t\t#header img {\n\t\t\t\talign-self: center;\n\t\t\t}\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"page\">\n\t\t<div id=\"header\">\n\t\t<h3>Welcome to Math Minion News</h3>\n\t\t<img src=\"./help/minion64.png\"/>\n\t\t</div>\n\t\t<div class=\"section\">\n\t\t\t<p><b>2021-06-22</b></p>\n\t\t\t<h3>New News</h3>\n\t\t\t<p>\n\t\t\t\tRather than just posting news on the main web page, where it probably would be missed by folks actually running Math Minion, I am trying something new, which is what you are looking at.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tNow when Math Minion loads and there is new news, it will automatically download and open a <b>MM_News</b> session from the server. The idea behind using a session rather than a simple text post is that it may sometimes be helpful to include examples along with the text. In any event the HtmlPage tool provides an easy way to present information. \n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tFeel free to delete the <b>MM_News</b> session. It won't be downloaded again until there is more news. Please note that if you make any changes to the MM_News session, they will be replaced the next time there is news, so save them somewhere else if you want to keep them.\n\t\t\t</p>\n\t\t</div>\n\t\t<div class=\"section\">\n\t\t\t<h3>Server Address Changes (Again)</h3>\n\t\t\t<p>\n\t\t\t\tI previously posted some information on the main web page about problems that arose with a recent update of Apple's Safari web browser.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tIn essence they decided that any address using a CName DNS record for redirection must be trying to avoid their anti tracking measures and so they clear that site's browser database whenever the browser quits. In Math Minion's case this would have the effect of erasing all saved sessions. Not good!\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tThe CName record was being used to redirect from mathminion.org the the Amazon AWS S3 bucket that acts as a static server for Math Minion. I initially suggested using the actual, if ugly, Amazon url to run Math Minion, namely:\n\t\t\t</p>\n\t\t\t<p class=\"formula\">https://s3.amazonaws.com/<br>www.mathminion.org/run.html</p>\n\t\t\t<p>\n\t\t\t\tThis required exporting the sessions from the existing address and importing them for the new address. Browser databases are only accessible to the domain names that create them, so an address change means a new database.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tUnfortunately using the Amazon address has its own problems, but by using an Amazon DNS server, it is possible to avoid using the CName record Safari gets sniffy about.  So I am now recommending going back to:\n\t\t\t</p>\n\t\t\t<p class=\"formula\">http://mathminion.org/run.html</p>\n\t\t\t<p>\n\t\t\t\tAlas this will mean once again moving your sessions.  Fortunately it is pretty easy:\n\t\t\t</p>\n\t\t\t<ul>\n\t\t\t\t<li>Use the Amazon address to run Math Minion. Tap the <b>Sessions</b> button at the bottom of the <a href=\"./help/infoview.html\" target=\"_blank\">information view</a> to open the <a href=\"./help/sessions.html\" target=\"_blank\">sessions view</a> and click on the <b>Export All</b> button.</b> Save the exported file someplace convenient.  (You should do this frequently to ensure you have a backup of your sessions.</li>\n\t\t\t\t<li>Now use the <b>http://mathminion.org/run.html</b> address to run Math Minion.</li>\n\t\t\t\t<li>If you have any old sessions saved from before, you should probably delete them to avoid duplicates.</li>\n\t\t\t\t<li>\n\t\t\t\t\tGo to the sessions view again and click on import.  Select the file you saved.\n\t\t\t\t</li>\n\t\t\t\t<li>The imported sessions will be in a top level folder called root. Go to the sessions view and click on the gear icon to the right of the root folder name.</li>\n\t\t\t\t<li>Select <b>Rename</b> and rename <b>/root</b> to just <b>/</b>. This will have the effect of moving all your session to the top level folder.\n\t\t\t\t\t<p>\n\t\t\t\t\t\tNote that if a session already exists at the top level with the same name as one in <b>/root</b>, the file from /root will be put in a folder named <b>copy-2</b> or similar.\n\t\t\t\t\t</p>\n\t\t\t\t</li>\n\t\t\t</ul>\n\t\t\t<p>\n\t\t\t\tMy apologies for all the trouble.\n\t\t\t</p>\n\t\t</div>\n\t\t<div class=\"section\">\n\t\t\t<h3>Other Changes</h3>\n\t\t\t<p>\n\t\t\t\tFor a full list of changes please see the\n\t\t\t\t<a href=\"https://github.com/CraigGMorris/mmjs/commits/master\" target=\"_blank\">Git Hub log of changes</a>.\n\t\t\t</p>\n\t\t</div>\n\t\t<p>Craig - Please feel free to <a href=\"http://www.redtree.com/contact.html\" target=\"_blank\">Contact me</a></p>\n\t\t</div>\n\t</body>\n</html>"
								}
							}
						]
					},
					{
						"name": "News_20211207",
						"Notes": "",
						"DiagramX": 85,
						"DiagramY": -115,
						"HideInfo": "n",
						"DiagramNotes": "n",
						"Type": "Model",
						"diagramScale": 1,
						"indexTool": "The_News",
						"Objects": [
							{
								"name": "The_News",
								"Notes": "New Session Storage",
								"DiagramX": 50,
								"DiagramY": -155,
								"HideInfo": "y",
								"DiagramNotes": "y",
								"Type": "HTML Form",
								"Formula": {
									"Formula": "'\n<html>\n\t<head>\n\t\t<link rel=\"stylesheet\" href=\"./help/help.css\" type=\"text/css\">\n\t\t<style>\n\t\t\t#header {\n\t\t\t\tdisplay: grid;\n\t\t\t\tgrid-template-columns: 1fr 65px;\n\t\t\t\tgrid-gap: 10px;\n\t\t\t\tborder-bottom: 1px solid black;\n\t\t\t\tmargin-bottom: 10px;\n\t\t\t}\n\t\t\t#header img {\n\t\t\t\talign-self: center;\n\t\t\t}\n\t\t\t.link {color: blue;}\n\n\t\t</style>\n\t</head>\n\t<body>\n\t\t<div id=\"page\">\n\t\t<div id=\"header\">\n\t\t<h3>Welcome to Math Minion News</h3>\n\t\t<img src=\"./help/minion64.png\"/>\n\t\t</div>\n\t\t<div class=\"section\">\n\t\t\t<p><b>2021-12-07</b></p>\n\t\t\t<h3>Hopefully Invisible Changes to Storage</h3>\n\t\t\t<p>\n\t\t\t\tA version uploaded last weekend brings a switch in how sessions are stored in the browser database. It should be invisible to users, but brings significant benefits to anyone nerdy enough (probably just me) to make use of it.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tSessions are still stored in the browser indexedDB, but a <a href=\"https://pouchdb.com\" target=\"_blank\">PouchDB</a> layer has been introduced that permits the sessions to be synchronized with <a href=\"https://couchdb.apache.org\" target=\"_blank\">CouchDB</a> databases. Ideally this allows you to keep your Math Minion sessions backed up to an external database as well as sharing them across browsers and devices. One can even make a change on one device and see it reflected on another in near real time.\n\t\t\t</p>\n\t\t\t<p>\t\n\t\t\t\tHowever in order to make use of these features, you will need to run a CouchDB server of your own or use a cloud based one. Due to security restrictions in browsers, you may have to also run your own Math Minion server.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\tThere are new help pages with some thoughts on:\n\t\t\t</p>\n\t\t\t<ul>\n\t\t\t\t<li><a href=\"help/couchdb.html\" target=\"_blank\">CouchDB Integration</a></li>\n\t\t\t\t<li><a href=\"help/mmserver.html\" target=\"_blank\">Running a MM Server</a></li>\n\t\t\t</ul>\n\t\t\t<p>\n\t\t\t\tbut they are far from complete how-to guides on running servers.\n\t\t\t</p>\n\t\t</div>\n\t\t<div class=\"section\">\n\t\t\t<h3>MM App Removed from App Store</h3>\n\t\t\t<p>\n\t\t\t\tSince I had no plans to further update the app store version of Math Minion and it was accumulating an increasing list of deprecations that would eventually come home to roost, I decided to remove it from the app store so new users weren't downloading an end of life program.\n\t\t\t</p>\n\t\t</div>\n\t\t<div class=\"section\">\n\t\t\t<h3>Feedback</h3>\n\t\t\t<p>\n\t\t\t\tAs always, any and all feedback or questions are encouraged and appreciated.\n\t\t\t</p>\n\t\t\t<p>\n\t\t\t\t<a href=\"http://www.redtree.com/contact.html\" target=\"_blank\">Craig</a>\n\t\t\t</p>\n\t\t</div>\n\t</body>\n</html>"
								},
								"f0": "{pi}",
								"f1": "{array 3, 2, 1:6} * 1 kg",
								"f2": "clientHours",
								"f3": "projectHours",
								"f4": "{array 10, 4, 1:40} * 1 min"
							}
						]
					}
				]
			}
		]
	}
}